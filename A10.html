<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Chikankari Kurti - Mor</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link rel="stylesheet" href="mor.css">
</head>
<body>
    <!-- You can include your header here if you want it on every product page -->
    <header class="header">
        <nav class="nav">
            <button class="hamburger-menu" aria-label="Open Menu"><i class="fas fa-bars"></i></button>
            <a href="index.html" class="logo"><img src="logo.jpg" alt="Mor Logo" class="logo-img" loading="lazy"></a>
            <div class="nav-links-container">
                <button class="close-menu" aria-label="Close Menu"><i class="fas fa-times"></i></button>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="shop.html">Shop</a></li>
                    <li><a href="index.html#collections">Collections</a></li>
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                    <li class="mobile-only-link"><button class="nav-link-button" id="mobile-login-link"><i class="fas fa-user"></i> Login</button></li>
                    <li class="mobile-only-link"><button class="nav-link-button" id="mobile-favorites-link"><i class="fas fa-heart"></i> Favorites</button></li>
                </ul>
            </div>
             <div class="nav-actions">
                <button class="search-btn" aria-label="Search"><i class="fas fa-search"></i></button>
                <button class="cart-btn" aria-label="Shopping Cart"><i class="fas fa-shopping-basket"></i></button>
            </div>
        </nav>
    </header>

    <main style="margin-top: 65px;">
        <div class="product-page-container beautiful-product-page" data-img-src="A10.jpg">
            <div class="product-gallery animate-slide-in-left">
                <div class="gallery-main-image beautiful-gallery-main">
                    <img src="A10.jpg" alt="Black Chikankari Kurti" id="main-product-image" loading="lazy">
                    <button class="gallery-arrow prev" id="gallery-prev" aria-label="Previous Image">&#10094;</button>
                    <button class="gallery-arrow next" id="gallery-next" aria-label="Next Image">&#10095;</button>
                    <div class="zoom-icon" id="zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="gallery-dots-container animate-fade-in" id="gallery-dots-container" style="transition-delay: 0.2s;"></div>
            </div>
            <div class="product-details animate-slide-in-right beautiful-product-details">
                <h1 id="product-name" class="animate-fade-in beautiful-product-title" style="transition-delay: 0.1s;">Black Chikankari Kurti</h1>
                <div class="product-price-container animate-fade-in beautiful-price-container" style="transition-delay: 0.2s;">
                    <p class="product-price" id="product-price">₹1,499</p>
                    <p class="product-old-price">₹1,999</p>
                    <p class="product-save-amount">Save ₹500</p>
                </div>
                <div class="product-options animate-fade-in beautiful-product-options" style="transition-delay: 0.3s;">
                    <div class="option-group beautiful-option-group">
                        <label for="size-selector">Select Size:</label>
                        <div class="size-selector" id="size-selector">
                            <button class="size-btn active">S</button>
                            <button class="size-btn">M</button>
                            <button class="size-btn">L</button>
                            <button class="size-btn">XL</button>
                        </div>
                    </div>
                    <div class="option-group beautiful-option-group">
                        <label for="quantity-counter">Quantity:</label>
                        <div class="quantity-counter" id="quantity-counter">
                            <button class="quantity-btn" data-action="decrease">-</button>
                            <span class="quantity-value">1</span>
                            <button class="quantity-btn" data-action="increase">+</button>
                        </div>
                    </div>
                </div>
                <div class="product-actions animate-fade-in beautiful-product-actions" style="transition-delay: 0.4s;">
                    <button class="cta-btn add-to-cart-btn beautiful-add-to-cart" id="add-to-cart-btn"><i class="fas fa-shopping-cart"></i> Add to Cart</button>
                </div>
                <div class="product-description-accordion animate-fade-in beautiful-description-accordion" style="transition-delay: 0.5s;">
                    <div class="description-item beautiful-description-item">
                        <div class="description-header beautiful-description-header">
                            <span>Product Description</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="description-content beautiful-description-content">
                            <p>Embrace timeless elegance with this stunning Black Chikankari Kurti. Hand-embroidered with intricate floral patterns, this piece is a testament to traditional craftsmanship. Made from pure, breathable cotton, it ensures comfort throughout the day, making it perfect for both casual outings and festive occasions.</p>
                            <p><strong>Material:</strong> <span id="product-material">Cotton</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Reviews Section -->
        <div class="reviews-section animate-fade-in">
            <h2>Customer Reviews</h2>
            <button class="write-review-btn" id="write-review-btn">Write a Review</button>
            <div id="reviews-list">
                <div class="review">
                    <div class="review-header">
                        <span class="review-author">Priya S.</span>
                        <span class="review-rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></span>
                    </div>
                    <p class="review-text">Absolutely beautiful kurti! The chikankari work is so intricate and the cotton is very comfortable. Fits perfectly.</p>
                </div>
            </div>
            <!-- Review form can be added here -->
        </div>

        <!-- Related Products Section -->
        <section class="related-products-section animate-fade-in">
            <h2>You Might Also Like</h2>
            <div class="featured-scroll" id="related-products-container">
                <!-- Related products will be injected here by JS -->
            </div>
        </section>
    </main>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/919885489448" class="whatsapp-float" target="_blank" rel="noopener noreferrer" aria-label="Chat with us on WhatsApp">
        <i class="fab fa-whatsapp"></i>
        <span class="whatsapp-text">WhatsApp</span>
    </a>

    <!-- Notification Toast -->
    <div id="notification-toast" class="notification-toast"></div>

    <!-- Component Placeholders for mor.js -->
    <div class="overlay"></div>
    <div id="login-modal" class="modal-overlay" style="display: none;"></div>
    <div id="cart-popup" class="cart-popup">
        <div class="cart-header">
            <h3>Your Cart</h3>
            <button class="close-cart-btn" aria-label="Close Cart"><i class="fas fa-times"></i></button>
        </div>
        <div class="cart-content">
            <div class="cart-empty">
                <i class="fas fa-shopping-bag"></i>
                <p>Your cart is empty</p>
                <button class="cta-btn continue-shopping-btn">Continue Shopping</button>
            </div>
            <div class="cart-items" style="display: none;"></div>
        </div>
        <div class="cart-footer" style="display: none;">
            <div class="cart-subtotal">
                <span>Subtotal</span>
                <span id="cart-subtotal-amount">₹0.00</span>
            </div>
            <button class="cta-btn checkout-btn">Proceed to Checkout</button>
        </div>
    </div>    <div id="favorites-popup" class="favorites-popup"></div>
    <div id="zoom-modal" class="zoom-modal">
        <span class="zoom-modal-close" id="zoom-modal-close">&times;</span>
        <div class="zoom-modal-content">
            <img src="" alt="Zoomed Product Image" id="zoomed-image" loading="lazy">
        </div>
    </div>
    <div id="review-modal" class="modal-overlay" style="display: none;"></div>


    <!-- You can include your footer here -->
    <script src="mor.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
             const allProducts = [
                { name: "Black Chikankari Kurti", price: "₹1,499", oldPrice: "₹1,999", imgSrc: "A10.jpg", pageUrl: "A10.html" },
                { name: "Stylish Rayon Kurti", price: "₹1,399", oldPrice: "₹1,799", imgSrc: "B11.jpg", pageUrl: "B11.html" },
                { name: "Elegant Georgette Kurti", price: "₹1,599", oldPrice: "₹2,199", imgSrc: "C10.jpg", pageUrl: "C10.html" },
                { name: "Classic Viscose Kurta", price: "₹1,899", oldPrice: "₹2,499", imgSrc: "D10.jpg", pageUrl: "D10.html" },
                { name: "Green Floral Kurti", price: "₹1,199", oldPrice: "₹1,599", imgSrc: "E10.jpg", pageUrl: "E10.html" },
                { name: "Red Printed Kurti", price: "₹1,299", oldPrice: "₹1,699", imgSrc: "F10.jpg", pageUrl: "F10.html" },
                { name: "Yellow Summer Kurti", price: "₹1,099", oldPrice: "₹1,499", imgSrc: "G10.jpg", pageUrl: "G10.html" },
                { name: "Blue Casual Kurti", price: "₹1,399", oldPrice: "₹1,899", imgSrc: "H10.jpg", pageUrl: "H10.html" },
                { name: "Navy Blue Kurti Set", price: "₹1,799", oldPrice: "₹2,399", imgSrc: "I10.jpg", pageUrl: "I10.html" },
                { name: "Maroon Velvet Kurti", price: "₹2,499", oldPrice: "₹3,199", imgSrc: "J10.jpg", pageUrl: "J10.html" },
                { name: "Light Green Kurti", price: "₹1,450", oldPrice: "₹1,950", imgSrc: "K10.jpg", pageUrl: "K10.html" },
                { name: "Purple Silk Kurti", price: "₹1,999", oldPrice: "₹2,599", imgSrc: "L10.jpg", pageUrl: "L10.html" }
            ];

            // --- Product Page Gallery ---
            const mainImage = document.getElementById('main-product-image');
            const dotsContainer = document.getElementById('gallery-dots-container');
            const prevBtn = document.getElementById('gallery-prev');
            const nextBtn = document.getElementById('gallery-next');

            const galleryImages = ["A10.jpg", "A11.jpg", "A12.jpg"];
            let currentImageIndex = 0;

            // Create dots
            galleryImages.forEach((_, index) => {
                const dot = document.createElement('span');
                dot.classList.add('gallery-dot');
                if (index === 0) dot.classList.add('active');
                dot.dataset.index = index;
                dotsContainer.appendChild(dot);
            });

            const dots = document.querySelectorAll('.gallery-dot');

            function showImage(index) {
                // Update main image
                mainImage.style.opacity = 0;
                setTimeout(() => {
                    mainImage.src = galleryImages[index];
                    mainImage.style.opacity = 1;
                }, 200); // Half of the transition duration

                // Update active dot
                dots.forEach(d => d.classList.remove('active'));
                dots[index].classList.add('active');

                currentImageIndex = index;
            }

            // Event Listeners for arrows
            nextBtn.addEventListener('click', () => {
                const nextIndex = (currentImageIndex + 1) % galleryImages.length;
                showImage(nextIndex);
            });

            prevBtn.addEventListener('click', () => {
                const prevIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
                showImage(prevIndex);
            });

            // Event Listener for dots
            dotsContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('gallery-dot')) {
                    const index = parseInt(e.target.dataset.index);
                    showImage(index);
                }
            });

            // Hide arrows if only one image
            if (galleryImages.length <= 1) {
                prevBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            }

             // --- Click-to-Zoom Image Modal ---
            const zoomModal = document.getElementById('zoom-modal');
            const zoomIcon = document.getElementById('zoom-icon');
            const zoomedImage = document.getElementById('zoomed-image');
            const closeModal = document.getElementById('zoom-modal-close');

            zoomIcon.addEventListener('click', () => {
                zoomedImage.src = mainImage.src;
                zoomModal.classList.add('show');
            });

            const closeZoomModal = () => {
                zoomModal.classList.remove('show');
            }

            closeModal.addEventListener('click', closeZoomModal);
            zoomModal.addEventListener('click', (e) => {
                if (e.target === zoomModal) { // Close if clicking on the background
                    closeZoomModal();
                }
            });

            // Add mouse move event for zoom effect
            zoomedImage.addEventListener('mousemove', (e) => {
                const rect = zoomedImage.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                const xPercent = (x / rect.width) * 100;
                const yPercent = (y / rect.height) * 100;

                zoomedImage.style.transformOrigin = `${xPercent}% ${yPercent}%`;
                zoomedImage.style.transform = 'scale(2)'; // Zoom level
            });
            zoomedImage.addEventListener('mouseleave', () => {
                zoomedImage.style.transform = 'scale(1)';
                zoomedImage.style.transformOrigin = 'center center';
            });

            // Add touch events for mobile zoom
            zoomedImage.addEventListener('touchmove', (e) => {
                e.preventDefault(); // Prevent page from scrolling
                const rect = zoomedImage.getBoundingClientRect();
                const touch = e.touches[0];
                const x = touch.clientX - rect.left;
                const y = touch.clientY - rect.top;

                // Ensure the touch is within the image bounds
                if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
                    const xPercent = (x / rect.width) * 100;
                    const yPercent = (y / rect.height) * 100;

                    zoomedImage.style.transformOrigin = `${xPercent}% ${yPercent}%`;
                    zoomedImage.style.transform = 'scale(2)';
                }
            });

            zoomedImage.addEventListener('touchend', () => {
                zoomedImage.style.transform = 'scale(1)';
                zoomedImage.style.transformOrigin = 'center center';
            });

            // --- Size Selector ---
            const sizeSelector = document.getElementById('size-selector');
            sizeSelector.addEventListener('click', (e) => {
                if (e.target.classList.contains('size-btn')) {
                    sizeSelector.querySelectorAll('.size-btn').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                }
            });

            // --- Quantity Counter ---
            const quantityValue = document.querySelector('.quantity-value');
            document.querySelectorAll('.quantity-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    let currentQty = parseInt(quantityValue.textContent);
                    if (btn.dataset.action === 'increase') {
                        currentQty++;
                    } else if (currentQty > 1) {
                        currentQty--;
                    }
                    quantityValue.textContent = currentQty;
                });
            });

            // --- Add to Cart ---
            // This part requires your main mor.js cart functions.
            // For a multi-page app, you'd typically save the cart to localStorage
            // so it persists across pages. This is a simplified example.
            document.getElementById('add-to-cart-btn').addEventListener('click', (e) => {
                const productContainer = document.querySelector('.product-page-container');
                const product = {
                    name: document.getElementById('product-name').textContent,
                    price: document.getElementById('product-price').textContent,
                    size: sizeSelector.querySelector('.size-btn.active').textContent,
                    imgSrc: mainImage.src,
                    quantity: parseInt(quantityValue.textContent)
                };
                window.addToCart(product);
                window.showToast(`${product.name} has been added to your cart!`, 'fa-check-circle');
                window.openCart(); // Open the cart panel to show the added item
            });
 
            window.addEventListener('load', () => {

            // --- Related Products ---
            const relatedProductsContainer = document.getElementById('related-products-container');
            const currentProductName = document.getElementById('product-name').textContent;

            const relatedProducts = allProducts
                .filter(p => p.name !== currentProductName) // Exclude the current product
                .sort(() => 0.5 - Math.random()) // Shuffle the array
                .slice(0, 4); // Get the first 4 random products

            relatedProducts.forEach(product => {
                const productCardHTML = `
                    <div class="product-item-wrapper">
                        <a href="${product.pageUrl}" style="text-decoration: none; color: inherit;">
                            <div class="product-card" data-name="${product.name}" data-price="${product.price}" data-page-url="${product.pageUrl}">
                                <div class="product-image-container">
                                    <img src="${product.imgSrc}" alt="${product.name}" loading="lazy">
                                    <div class="product-favorite-icon" data-name="${product.name}" data-price="${product.price}" data-img-src="${product.imgSrc}">
                                        <i class="far fa-heart"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="product-info">
                                <h4 class="product-name">${product.name}</h4>
                                <p class="product-price">${product.price}</p>
                            </div>
                        </a>
                    </div>
                `;
                relatedProductsContainer.innerHTML += productCardHTML;
            });

            // Re-apply styles from mor.css that might be needed for related products
            relatedProductsContainer.classList.add('featured-scroll');
            relatedProductsContainer.querySelectorAll('.product-card').forEach(card => {
                card.style.height = '17.5rem'; // Match height from mor.css
            });
        });

            // --- Product Description Accordion ---
            document.querySelectorAll('.description-header').forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('i');
                    
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        content.style.padding = "0";
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                        content.style.padding = "0 0 1.5rem 0";
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });

            // --- Review Modal ---
            const reviewModal = document.querySelector('#review-modal');
            const openReviewBtn = document.getElementById('write-review-btn');
            const closeReviewBtn = reviewModal.querySelector('.review-modal-close');
            const starRatingContainer = document.getElementById('star-rating-input');
            const stars = starRatingContainer.querySelectorAll('.fa-star');
            let currentRating = 0;

            const openReviewModal = () => {
                reviewModal.style.display = 'flex';
                setTimeout(() => reviewModal.classList.add('show'), 10);
            };

            const closeReviewModal = () => {
                reviewModal.classList.remove('show');
                setTimeout(() => reviewModal.style.display = 'none', 300);
            };

            openReviewBtn.addEventListener('click', openReviewModal);
            closeReviewBtn.addEventListener('click', closeReviewModal);
            reviewModal.addEventListener('click', (e) => {
                if (e.target === reviewModal) closeReviewModal();
            });

            // Star rating logic
            stars.forEach(star => {
                star.addEventListener('mouseover', () => {
                    const rating = parseInt(star.dataset.value);
                    stars.forEach((s, i) => {
                        s.className = i < rating ? 'fas fa-star' : 'far fa-star';
                    });
                });

                star.addEventListener('mouseout', () => {
                    stars.forEach((s, i) => {
                        s.className = i < currentRating ? 'fas fa-star selected' : 'far fa-star';
                    });
                });

                star.addEventListener('click', () => {
                    currentRating = parseInt(star.dataset.value);
                });
            });

            document.getElementById('review-form').addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Thank you for your review!');
                closeReviewModal();
            });
        }); // End of DOMContentLoaded
    </script>
